<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Timetable</title>
    <meta name="google-site-verification" content="xzKM-KHgmRDuvekkD9mcVmoaBdSGKH8jRucqMmqjkpQ" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Dark background color */
            color: #e2e8f0; /* Light text color */
        }
        /* Custom styles for better mobile handling */
        .table-cell-custom {
            word-break: break-word; /* Allows words to break and wrap */
            overflow-wrap: break-word; /* Ensures long words don't overflow */
        }

        /* Adjust padding for smaller screens */
        @media (max-width: 640px) { /* Tailwind's 'sm' breakpoint */
            .table-auto-sm .py-4 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
            .table-auto-sm .px-4 { padding-left: 0.5rem; padding-right: 0.5rem; }
            .table-auto-sm .text-sm { font-size: 0.75rem; } /* Smaller font for mobile */
            .table-auto-sm .text-xs { font-size: 0.65rem; } /* Even smaller for time slots if needed */

            /* Specific width adjustments for time slot column on small screens */
            .time-slot-col {
                width: 90px; /* Fixed width for time slots */
                min-width: 90px;
            }
            /* Flexing other columns to fill remaining space */
            .day-col {
                width: 120px; /* Adjust as needed */
                min-width: 120px;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 flex flex-col items-center justify-center p-4 min-h-screen">

    <main class="w-full max-w-7xl mx-auto my-8">

        <header class="text-center mb-10">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-white mb-2">
                Class Timetable
            </h1>
            <p class="text-lg sm:text-xl text-gray-400">
                Weekly schedule for academic year (Week 1).
            </p>
            <nav class="mt-6 flex justify-center space-x-4">
                <button id="today-btn" class="px-6 py-2 rounded-full font-medium text-white transition-colors duration-200 bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-900">Today</button>
                <button id="week-btn" class="px-6 py-2 rounded-full font-medium text-gray-400 transition-colors duration-200 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-900">This Week</button>
            </nav>
        </header>

        <div id="timetable-container" class="bg-gray-800 rounded-2xl shadow-xl overflow-hidden p-6 md:p-8">
            </div>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const todayBtn = document.getElementById('today-btn');
            const weekBtn = document.getElementById('week-btn');
            const timetableContainer = document.getElementById('timetable-container');

            const timetableData = {
                '9:00 - 10:00 am': ['','LAB - Soil Mechanics','','','Object Oriented Programming'],
                '10:00 - 11:00 am': ['Linear Algebra','LAB - Soil Mechanics','HoD Disposal','','Object Oriented Programming'],
                '11:00 - 12:00 pm': ['Linear Algebra','LAB - Soil Mechanics','Object Oriented Programming','Soil Mechanics','Linear Algebra'],
                '12:00 - 1:00 pm': ['SAS Advisory','Digital Mapping & Image Processing','Digital Mapping & Image Processing','Soil Mechanics',''],
                '1:00 - 2:00 pm': ['Lunch & Prayer Break','Lunch & Prayer Break','Lunch & Prayer Break','Lunch & Prayer Break','Lunch & Prayer Break'],
                '2:00 - 3:00 pm': ['Occupational Health and Safety','LAB - Digital Mapping & Image Processing','LAB - Object Oriented Programming','Professional Ethics',''],
                '3:00 - 4:00 pm': ['','LAB - Digital Mapping & Image Processing','LAB - Object Oriented Programming','Professional Ethics',''],
                '4:00 - 5:00 pm': ['','LAB - Digital Mapping & Image Processing','LAB - Object Oriented Programming','',''],
            };

            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];
            const today = new Date().getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday
            const currentDayIndex = today === 0 || today === 6 ? -1 : today - 1; // Adjust for 0-indexed array

            // Function to render the full weekly timetable
            const renderWeeklyTimetable = () => {
                let htmlContent = `
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse table-auto-sm">
                            <thead>
                                <tr class="bg-gray-700">
                                    <th class="py-3 px-4 text-sm font-semibold text-gray-300 rounded-tl-xl border-b border-gray-600 time-slot-col">Time Slot</th>
                                    ${days.map(day => `<th class="py-3 px-4 text-sm font-semibold text-gray-300 border-b border-gray-600 day-col">${day}</th>`).join('')}
                                </tr>
                            </thead>
                            <tbody>
                                ${Object.keys(timetableData).map(timeSlot => `
                                    <tr class="hover:bg-gray-700 transition-colors duration-200">
                                        <td class="py-4 px-4 text-sm font-medium border-b border-gray-700 time-slot-col">${timeSlot}</td>
                                        ${timetableData[timeSlot].map(cell => `
                                            <td class="py-4 px-4 text-sm border-b border-gray-700 table-cell-custom day-col ${cell.includes('Break') ? 'font-medium text-gray-400' : 'font-semibold'}">
                                                ${cell}
                                            </td>
                                        `).join('')}
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
                timetableContainer.innerHTML = htmlContent;
                weekBtn.classList.add('bg-gray-700', 'text-white');
                todayBtn.classList.remove('bg-gray-700', 'text-white');
                weekBtn.classList.remove('text-gray-400', 'hover:bg-gray-800');
                todayBtn.classList.add('text-gray-400', 'hover:bg-gray-800');
            };

            // Function to render today's timetable
            const renderTodayTimetable = () => {
                if (currentDayIndex === -1) {
                    timetableContainer.innerHTML = `
                        <div class="text-center py-10">
                            <p class="text-xl text-gray-400">No classes today. Enjoy your weekend!</p>
                        </div>
                    `;
                } else {
                    let htmlContent = `
                        <div class="overflow-x-auto">
                            <table class="w-full text-left border-collapse table-auto-sm">
                                <thead>
                                    <tr class="bg-gray-700">
                                        <th class="py-3 px-4 text-sm font-semibold text-gray-300 rounded-tl-xl border-b border-gray-600 time-slot-col">Time Slot</th>
                                        <th class="py-3 px-4 text-sm font-semibold text-gray-300 rounded-tr-xl border-b border-gray-600 day-col">${days[currentDayIndex]}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${Object.keys(timetableData).map(timeSlot => `
                                        <tr class="hover:bg-gray-700 transition-colors duration-200">
                                            <td class="py-4 px-4 text-sm font-medium border-b border-gray-700 time-slot-col">${timeSlot}</td>
                                            <td class="py-4 px-4 text-sm border-b border-gray-700 table-cell-custom day-col ${timetableData[timeSlot][currentDayIndex].includes('Break') ? 'font-medium text-gray-400' : 'font-semibold'}">
                                                ${timetableData[timeSlot][currentDayIndex]}
                                            </td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    `;
                    timetableContainer.innerHTML = htmlContent;
                }
                todayBtn.classList.add('bg-gray-700', 'text-white');
                weekBtn.classList.remove('bg-gray-700', 'text-white');
                todayBtn.classList.remove('text-gray-400', 'hover:bg-gray-800');
                weekBtn.classList.add('text-gray-400', 'hover:bg-gray-800');
            };

            // Event listeners for the navigation buttons
            todayBtn.addEventListener('click', renderTodayTimetable);
            weekBtn.addEventListener('click', renderWeeklyTimetable);

            // Initial rendering based on the current day
            renderWeeklyTimetable();
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('view') === 'today' || currentDayIndex !== -1) {
                renderTodayTimetable();
            } else {
                renderWeeklyTimetable();
            }
        });
    </script>

</body>
</html>
